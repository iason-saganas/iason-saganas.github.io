<head>
    <!-- Load plotly.js into the DOM -->
    <script src='https://cdn.plot.ly/plotly-2.30.0.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>

<script>


    d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/3d-scatter.csv', function(err, rows){
        const example_data = [[3, 19, 27],
            [3, 21, 24],
            [3, 22, 23],
            [3, 23, 22],
            [3, 24, 21],
            [3, 25, 20],
            [3, 28, 18],
            [3, 29, 17],
            [4, 12, 29],
            [4, 13, 27],
            [4, 14, 25],
            [4, 15, 23],
            [4, 17, 20],
            [4, 18, 19],
            [4, 19, 18],
            [4, 20, 17],
            [4, 21, 16],
            [4, 24, 14],
            [4, 26, 13],
            [4, 28, 12],
            [5, 10, 27],
            [5, 11, 24],
            [5, 12, 22],
            [5, 13, 20],
            [5, 15, 17],
            [5, 16, 16],
            [5, 17, 15],
            [5, 23, 11],
            [5, 26, 10],
            [5, 29, 9],
            [6, 8, 28],
            [6, 9, 24],
            [6, 11, 19],
            [6, 13, 16],
            [6, 14, 15],
            [6, 15, 14],
            [6, 16, 13],
            [6, 19, 11],
            [6, 21, 10],
            [6, 23, 9],
            [6, 26, 8],
            [7, 7, 27],
            [7, 8, 23],
            [7, 9, 20],
            [7, 10, 18],
            [7, 11, 16],
            [7, 16, 11],
            [7, 22, 8],
            [8, 7, 23],
            [8, 9, 17],
            [8, 11, 14],
            [8, 15, 10],
            [8, 17, 9],
            [8, 19, 8],
            [8, 22, 7],
            [8, 26, 6],
            [9, 6, 24],
            [9, 7, 20],
            [9, 8, 17],
            [9, 9, 15],
            [9, 11, 12],
            [9, 12, 11],
            [9, 15, 9],
            [9, 17, 8],
            [9, 23, 6],
            [9, 28, 5],
            [10, 5, 27],
            [10, 7, 18],
            [10, 10, 12],
            [10, 11, 11],
            [10, 12, 10],
            [10, 15, 8],
            [10, 25, 5],
            [11, 5, 24],
            [11, 6, 19],
            [11, 7, 16],
            [11, 8, 14],
            [11, 9, 12],
            [11, 10, 11],
            [11, 11, 10],
            [11, 12, 9],
            [11, 23, 5],
            [12, 4, 29],
            [12, 5, 22],
            [12, 9, 11],
            [12, 10, 10],
            [12, 11, 9],
            [12, 17, 6],
            [12, 21, 5],
            [13, 4, 27],
            [13, 5, 20],
            [13, 6, 16],
            [13, 19, 5],
            [13, 25, 4],
            [14, 4, 25],
            [14, 6, 15],
            [14, 18, 5],
            [15, 4, 23],
            [15, 5, 17],
            [15, 6, 14],
            [15, 8, 10],
            [15, 9, 9],
            [15, 10, 8],
            [15, 22, 4],
            [16, 5, 16],
            [16, 6, 13],
            [16, 7, 11],
            [17, 4, 20],
            [17, 5, 15],
            [17, 6, 12],
            [17, 8, 9],
            [17, 12, 6],
            [17, 19, 4],
            [17, 28, 3],
            [18, 3, 28],
            [18, 4, 19],
            [18, 5, 14],
            [18, 14, 5],
            [18, 18, 4],
            [19, 3, 27],
            [19, 4, 18],
            [19, 6, 11],
            [19, 8, 8],
            [19, 13, 5],
            [19, 17, 4],
            [19, 25, 3],
            [20, 3, 25],
            [20, 4, 17],
            [20, 24, 3],
            [21, 3, 24],
            [21, 4, 16],
            [21, 5, 12],
            [21, 6, 10],
            [21, 12, 5],
            [21, 23, 3],
            [22, 3, 23],
            [22, 7, 8],
            [22, 8, 7],
            [22, 15, 4],
            [22, 22, 3],
            [23, 3, 22],
            [23, 5, 11],
            [23, 6, 9],
            [23, 9, 6],
            [23, 11, 5],
            [23, 21, 3],
            [24, 3, 21],
            [24, 4, 14],
            [24, 20, 3],
            [25, 3, 20],
            [25, 10, 5],
            [25, 13, 4],
            [25, 19, 3],
            [26, 3, 19],
            [26, 4, 13],
            [26, 5, 10],
            [26, 6, 8],
            [26, 8, 6],
            [28, 3, 18],
            [28, 4, 12],
            [28, 9, 5],
            [28, 17, 3],
            [29, 3, 17],
            [29, 5, 9],
            [30, 6, 7],
            [30, 7, 6],
            [30, 11, 4],
            [30, 16, 3],]


        const rowsNew = example_data.map(el => ({
            x1: el[0].toString(), y1: el[1].toString(), z1: el[2].toString()
        }))
        rows = rowsNew
        err = null
        function unpack(rows, key) {
            return rows.map(function(row)
            { return row[key]; });}

        var trace1 = {
            x:unpack(rows, 'x1'), y: unpack(rows, 'y1'), z: unpack(rows, 'z1'),
            mode: 'markers',
            marker: {
                size: 12,
                line: {
                    color: 'rgba(217, 217, 217, 0.14)',
                    width: 0.5},
                opacity: 0.8},
            type: 'scatter3d'
        };

        var trace2 = {
            x:unpack(rows, 'x2'), y: unpack(rows, 'y2'), z: unpack(rows, 'z2'),
            mode: 'markers',
            marker: {
                color: 'rgb(127, 127, 127)',
                size: 12,
                symbol: 'circle',
                line: {
                    color: 'rgb(204, 204, 204)',
                    width: 1},
                opacity: 0.8},
            type: 'scatter3d'};

        var data = [trace1, trace2];
        var layout = {
            margin: {
                l: 0,
                r: 0,
                b: 0,
                t: 0
            },
            scene: {
                xaxis:{title: 'semi-major-axis planet'},
                yaxis:{title: 'semi-major-axis moon'},
                zaxis:{title: 'semi-major-axis submoon'},
                camera: {
                    eye: {
                        x: 1.7,
                        y: 1.7,
                        z: 0.1
                    }
                }
            }
        };
        Plotly.newPlot('myDiv', data, layout);
    });

</script>

<body>
<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
</body>
